"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[424],{9424:(U,s,i)=>{i.r(s),i.d(s,{AccountModule:()=>_});var o=i(665),h=i(7574),f=i(3637),C=i(9796);function p(e){return!(0,C.k)(e)&&e-parseFloat(e)+1>=0}var u=i(4869);function P(e){const{index:a,period:n,subscriber:r}=e;if(r.next(a),!r.closed){if(-1===n)return r.complete();e.index=a+1,this.schedule(e,n)}}var v=i(5917),b=i(3190),O=i(8002),t=i(3018),l=i(4806),g=i(15),m=i(8745),d=i(8583);function w(e,a){if(1&e&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&e){const n=a.$implicit;t.xp6(1),t.hij(" ",n," ")}}const Z=[{path:"login",component:(()=>{class e{constructor(n,r,c){this.activatedRoute=n,this.accountService=r,this.router=c}ngOnInit(){this.returnUrl=this.activatedRoute.snapshot.queryParams.returnUrl||"/shop",this.createLoginForm()}createLoginForm(){this.loginForm=new o.cw({email:new o.NI("",[o.kI.required,o.kI.pattern("^([a-zA-Z0-9_\\-\\.]+)@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.)|(([a-zA-Z0-9\\-]+\\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\\]?)$")]),password:new o.NI("",o.kI.required)})}onSubmit(){this.accountService.login(this.loginForm.value).subscribe(()=>{this.router.navigateByUrl(this.returnUrl)},n=>{console.log(n)})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(g.gz),t.Y36(l.B),t.Y36(g.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-login"]],decls:18,vars:5,consts:[[1,"auth-page"],[1,"form-wrapper"],[3,"formGroup","ngSubmit"],[1,"message"],["formControlName","email",3,"label"],["formControlName","password",3,"type","label"],[3,"disabled"],["routerLink","/account/register"],[1,"cover-wrapper"],[1,"cover-img"]],template:function(n,r){1&n&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"form",2),t.NdJ("ngSubmit",function(){return r.onSubmit()}),t.TgZ(3,"h2"),t._uU(4,"Login"),t.qZA(),t.TgZ(5,"p",3),t._uU(6,"Please Sign In to Continue "),t.qZA(),t._UZ(7,"app-text-inputs",4),t._UZ(8,"app-text-inputs",5),t.TgZ(9,"button",6),t._uU(10,"Login"),t.qZA(),t._UZ(11,"hr"),t.TgZ(12,"p",3),t._uU(13,"New User? Sign Up "),t.TgZ(14,"a",7),t._uU(15,"Here"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(16,"div",8),t._UZ(17,"div",9),t.qZA(),t.qZA()),2&n&&(t.xp6(2),t.Q6J("formGroup",r.loginForm),t.xp6(5),t.Q6J("label","Email Address"),t.xp6(1),t.Q6J("type","password")("label","Password"),t.xp6(1),t.Q6J("disabled",r.loginForm.invalid))},directives:[o._Y,o.JL,o.sg,m.x,o.JJ,o.u,g.yS],styles:[".auth-page[_ngcontent-%COMP%]{width:100%;height:100vh;display:flex;overflow:hidden}.auth-page[_ngcontent-%COMP%]   .form-wrapper[_ngcontent-%COMP%]{width:50%;display:flex;justify-content:center;align-items:center;height:100vh}.auth-page[_ngcontent-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:2rem 0;padding:1rem;width:350px;border-radius:5px;border:1px solid transparent;background-color:#000;color:#fff;text-transform:uppercase}.auth-page[_ngcontent-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled, .auth-page[_ngcontent-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:auto}.auth-page[_ngcontent-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{margin:1rem 0}.auth-page[_ngcontent-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{margin-top:.5rem;font-size:13px;color:gray}.auth-page[_ngcontent-%COMP%]   .cover-wrapper[_ngcontent-%COMP%]{width:50%}.auth-page[_ngcontent-%COMP%]   .cover-img[_ngcontent-%COMP%]{background-image:url(auth-bg-1.8dc79fb53b7d56b12eda.jpg);width:100%;height:100vh;background-repeat:no-repeat;background-size:cover}@media (max-width: 900px){.auth-page[_ngcontent-%COMP%]{flex-direction:column-reverse;align-items:center;justify-content:center}.auth-page[_ngcontent-%COMP%]   .cover-wrapper[_ngcontent-%COMP%]{width:100%}.auth-page[_ngcontent-%COMP%]   .cover-img[_ngcontent-%COMP%]{width:100%;background-image:url(auth-bg-2.d487cb852d3b2e9fd77b.jpg)}.auth-page[_ngcontent-%COMP%]   .form-wrapper[_ngcontent-%COMP%]{position:absolute;display:block;min-width:450px;height:70vh;display:flex}.auth-page[_ngcontent-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{padding:2rem}}"]}),e})()},{path:"register",component:(()=>{class e{constructor(n,r){this.accountService=n,this.router=r}ngOnInit(){this.createRegisterForm()}onSubmit(){this.accountService.register(this.registerForm.value).subscribe(n=>{console.log(n),this.router.navigateByUrl("/shop")},n=>{console.log(n),this.errors=n.errors})}createRegisterForm(){this.registerForm=new o.cw({username:new o.NI(null,o.kI.required),email:new o.NI(null,[o.kI.required,o.kI.pattern("^([a-zA-Z0-9_\\-\\.]+)@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.)|(([a-zA-Z0-9\\-]+\\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\\]?)$")],this.validateUniqueEmail()),password:new o.NI(null,o.kI.required)})}validateUniqueEmail(){return n=>function(e=0,a,n){let r=-1;return p(a)?r=Number(a)<1?1:Number(a):(0,u.K)(a)&&(n=a),(0,u.K)(n)||(n=f.P),new h.y(c=>{const y=p(e)?e:+e-n.now();return n.schedule(P,y,{index:0,period:r,subscriber:c})})}(400).pipe((0,b.w)(()=>n.value?this.accountService.checkEmaileExists(n.value).pipe((0,O.U)(r=>r?{emailExists:!0}:null)):(0,v.of)(null)))}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(l.B),t.Y36(g.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-register"]],decls:21,vars:7,consts:[[1,"auth-page"],[1,"form-wrapper"],[3,"formGroup","ngSubmit"],[1,"message"],["formControlName","username",3,"label"],["formControlName","email",3,"label"],["formControlName","password",3,"type","label"],[1,"text-danger"],[4,"ngFor","ngForOf"],[3,"disabled"],["routerLink","/account/login"],[1,"cover-wrapper"],[1,"cover-img"]],template:function(n,r){1&n&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"form",2),t.NdJ("ngSubmit",function(){return r.onSubmit()}),t.TgZ(3,"h2"),t._uU(4,"Register"),t.qZA(),t.TgZ(5,"p",3),t._uU(6,"Please Register to Continue "),t.qZA(),t._UZ(7,"app-text-inputs",4),t._UZ(8,"app-text-inputs",5),t._UZ(9,"app-text-inputs",6),t.TgZ(10,"ul",7),t.YNc(11,w,2,1,"li",8),t.qZA(),t.TgZ(12,"button",9),t._uU(13,"Register"),t.qZA(),t._UZ(14,"hr"),t.TgZ(15,"p",3),t._uU(16," Already have an account? Login "),t.TgZ(17,"a",10),t._uU(18,"Here"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(19,"div",11),t._UZ(20,"div",12),t.qZA(),t.qZA()),2&n&&(t.xp6(2),t.Q6J("formGroup",r.registerForm),t.xp6(5),t.Q6J("label","Username"),t.xp6(1),t.Q6J("label","Email Address"),t.xp6(1),t.Q6J("type","Password")("label","Password"),t.xp6(2),t.Q6J("ngForOf",r.errors),t.xp6(1),t.Q6J("disabled",r.registerForm.invalid))},directives:[o._Y,o.JL,o.sg,m.x,o.JJ,o.u,d.sg,g.yS],styles:[".auth-page[_ngcontent-%COMP%]{width:100%;height:100vh;display:flex;overflow:hidden}.auth-page[_ngcontent-%COMP%]   .form-wrapper[_ngcontent-%COMP%]{width:50%;display:flex;justify-content:center;align-items:center;height:100vh}.auth-page[_ngcontent-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:2rem 0;padding:1rem;width:350px;border-radius:5px;border:1px solid transparent;background-color:#000;color:#fff;text-transform:uppercase}.auth-page[_ngcontent-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled, .auth-page[_ngcontent-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:auto}.auth-page[_ngcontent-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{margin:1rem 0}.auth-page[_ngcontent-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{margin-top:.5rem;font-size:13px;color:gray}.auth-page[_ngcontent-%COMP%]   .cover-wrapper[_ngcontent-%COMP%]{width:50%}.auth-page[_ngcontent-%COMP%]   .cover-img[_ngcontent-%COMP%]{background-image:url(auth-bg-1.8dc79fb53b7d56b12eda.jpg);width:100%;height:100vh;background-repeat:no-repeat;background-size:cover}@media (max-width: 900px){.auth-page[_ngcontent-%COMP%]{flex-direction:column-reverse;align-items:center;justify-content:center}.auth-page[_ngcontent-%COMP%]   .cover-wrapper[_ngcontent-%COMP%]{width:100%}.auth-page[_ngcontent-%COMP%]   .cover-img[_ngcontent-%COMP%]{width:100%;background-image:url(auth-bg-2.d487cb852d3b2e9fd77b.jpg)}.auth-page[_ngcontent-%COMP%]   .form-wrapper[_ngcontent-%COMP%]{position:absolute;display:block;min-width:450px;height:70vh;display:flex}.auth-page[_ngcontent-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{padding:2rem}}"]}),e})()}];let x=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[g.Bz.forChild(Z)],g.Bz]}),e})();var A=i(9441);let _=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[d.ez,x,A.m]]}),e})()}}]);