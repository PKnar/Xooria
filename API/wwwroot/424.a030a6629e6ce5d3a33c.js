"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[424],{9424:(N,d,i)=>{i.r(d),i.d(d,{AccountModule:()=>z});var r=i(665),v=i(7574),M=i(3637),P=i(9796);function m(t){return!(0,P.k)(t)&&t-parseFloat(t)+1>=0}var h=i(4869);function O(t){const{index:a,period:n,subscriber:o}=t;if(o.next(a),!o.closed){if(-1===n)return o.complete();t.index=a+1,this.schedule(t,n)}}var w=i(5917),Z=i(3190),_=i(8002),e=i(3018),f=i(4806),g=i(15),C=i(8745),c=i(8583);const x=["passValidList"];function y(t,a){1&t&&(e.TgZ(0,"p",15),e._uU(1," Please does not meet the requirenments "),e.qZA())}const A=function(t){return{color:t}},p=function(){return{color:"green","font-weight":"bold"}},l=function(){return{color:"black"}};let U=(()=>{class t{constructor(n,o,s){this.accountService=n,this.router=o,this.activatedRoute=s,this.validation={uppercase:!1,lowercase:!1,number:!1,character:!1,strength:0}}ngOnInit(){this.createRegisterForm()}handlePassChange(n){let o=n.target.value;this.validation.strength=o.length,this.validation.uppercase=!!o.match(/[A-Z]/),this.validation.lowercase=!!o.match(/[a-z]/),this.validation.number=!!o.match(/[0-9]/),this.validation.character=!!o.match(/[!&$?{}\/\/]/)}onSubmit(){this.accountService.register(this.registerForm.value).subscribe(()=>{const{redirect:n}=window.history.state;this.router.navigateByUrl(n||"/shop")},n=>{this.errors=n.errors})}createRegisterForm(){this.registerForm=new r.cw({username:new r.NI(null,r.kI.required),email:new r.NI(null,[r.kI.required,r.kI.pattern("^([a-zA-Z0-9_\\-\\.]+)@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.)|(([a-zA-Z0-9\\-]+\\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\\]?)$")],this.validateUniqueEmail()),password:new r.NI(null,r.kI.required)})}validateUniqueEmail(){return n=>function(t=0,a,n){let o=-1;return m(a)?o=Number(a)<1?1:Number(a):(0,h.K)(a)&&(n=a),(0,h.K)(n)||(n=M.P),new v.y(s=>{const u=m(t)?t:+t-n.now();return n.schedule(O,u,{index:0,period:o,subscriber:s})})}(400).pipe((0,Z.w)(()=>n.value?this.accountService.checkEmaileExists(n.value).pipe((0,_.U)(o=>o?{emailExists:!0}:null)):(0,w.of)(null)))}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(f.B),e.Y36(g.F0),e.Y36(g.gz))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-register"]],viewQuery:function(n,o){if(1&n&&e.Gf(x,5),2&n){let s;e.iGM(s=e.CRH())&&(o.passValidList=s.first)}},decls:35,vars:25,consts:[[1,"auth-page"],[1,"form-wrapper"],[3,"formGroup","ngSubmit"],[1,"message"],["formControlName","username",3,"label"],["formControlName","email",3,"label"],["formControlName","password",3,"type","label","input"],["style","color:red;font-size:11px;margin: 0.5rem;",4,"ngIf"],[1,"valid-password-list"],["passValidList",""],[3,"ngStyle"],[3,"disabled"],["routerLink","/account/login"],[1,"cover-wrapper"],[1,"cover-img"],[2,"color","red","font-size","11px","margin","0.5rem"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"form",2),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(3,"h2"),e._uU(4,"Register"),e.qZA(),e.TgZ(5,"p",3),e._uU(6,"Please Register to Continue "),e.qZA(),e._UZ(7,"app-text-inputs",4),e._UZ(8,"app-text-inputs",5),e.TgZ(9,"app-text-inputs",6),e.NdJ("input",function(u){return o.handlePassChange(u)}),e.qZA(),e.YNc(10,y,2,0,"p",7),e.TgZ(11,"div",8,9),e.TgZ(13,"h6"),e._uU(14,"Password should include atleast"),e.qZA(),e.TgZ(15,"ul",10),e.TgZ(16,"li",10),e._uU(17," One uppercase letter"),e.qZA(),e.TgZ(18,"li",10),e._uU(19," One lowercase letter"),e.qZA(),e.TgZ(20,"li",10),e._uU(21," One Number "),e.qZA(),e.TgZ(22,"li",10),e._uU(23," One of these special Character ! & ? $ "),e.qZA(),e.TgZ(24,"li",10),e._uU(25," And be 8 characters long"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(26,"button",11),e._uU(27,"Register"),e.qZA(),e._UZ(28,"hr"),e.TgZ(29,"p",3),e._uU(30," Already have an account? Login "),e.TgZ(31,"a",12),e._uU(32,"Here"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(33,"div",13),e._UZ(34,"div",14),e.qZA(),e.qZA()),2&n&&(e.xp6(2),e.Q6J("formGroup",o.registerForm),e.xp6(5),e.Q6J("label","Username"),e.xp6(1),e.Q6J("label","Email Address"),e.xp6(1),e.Q6J("type","Password")("label","Password"),e.xp6(1),e.Q6J("ngIf",o.errors),e.xp6(5),e.Q6J("ngStyle",e.VKq(13,A,o.errors?"red":"black")),e.xp6(1),e.Q6J("ngStyle",o.validation.uppercase?e.DdM(15,p):e.DdM(16,l)),e.xp6(2),e.Q6J("ngStyle",o.validation.lowercase?e.DdM(17,p):e.DdM(18,l)),e.xp6(2),e.Q6J("ngStyle",o.validation.number?e.DdM(19,p):e.DdM(20,l)),e.xp6(2),e.Q6J("ngStyle",o.validation.character?e.DdM(21,p):e.DdM(22,l)),e.xp6(2),e.Q6J("ngStyle",o.validation.strength>=8?e.DdM(23,p):e.DdM(24,l)),e.xp6(2),e.Q6J("disabled",o.registerForm.invalid))},directives:[r._Y,r.JL,r.sg,C.x,r.JJ,r.u,c.O5,c.PC,g.yS],styles:[".auth-page[_ngcontent-%COMP%]{width:100%;height:100vh;display:flex;overflow:hidden}.auth-page[_ngcontent-%COMP%]   .form-wrapper[_ngcontent-%COMP%]{width:50%;display:flex;justify-content:center;align-items:center;height:100vh}.auth-page[_ngcontent-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:1rem 0;padding:1rem;width:350px;border-radius:5px;border:1px solid transparent;background-color:#000;color:#fff;text-transform:uppercase}.auth-page[_ngcontent-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled, .auth-page[_ngcontent-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:auto}.auth-page[_ngcontent-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{margin:1rem 0}.auth-page[_ngcontent-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{margin-top:.5rem;font-size:13px;color:gray}.auth-page[_ngcontent-%COMP%]   .cover-wrapper[_ngcontent-%COMP%]{width:50%}.auth-page[_ngcontent-%COMP%]   .cover-img[_ngcontent-%COMP%]{background-image:url(auth-bg-1.8dc79fb53b7d56b12eda.jpg);width:100%;height:100vh;background-repeat:no-repeat;background-size:cover}.valid-password-list[_ngcontent-%COMP%]{margin-top:1rem}.valid-password-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-left:1rem}.valid-password-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:11px;margin-top:.3rem;color:#000}.show[_ngcontent-%COMP%]{display:block}@media (max-width: 900px){.auth-page[_ngcontent-%COMP%]{flex-direction:column-reverse;align-items:center;justify-content:center}.auth-page[_ngcontent-%COMP%]   .cover-wrapper[_ngcontent-%COMP%]{width:100%}.auth-page[_ngcontent-%COMP%]   .cover-img[_ngcontent-%COMP%]{width:100%;background-image:url(auth-bg-2.d487cb852d3b2e9fd77b.jpg)}.auth-page[_ngcontent-%COMP%]   .form-wrapper[_ngcontent-%COMP%]{position:absolute;display:block;min-width:450px;height:70vh;display:flex}.auth-page[_ngcontent-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{padding:2rem}}"]}),t})();function T(t,a){if(1&t&&(e.TgZ(0,"p",11),e._uU(1),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Oqu(n.errorMessage)}}const J=[{path:"login",component:(()=>{class t{constructor(n,o,s,u){this.activatedRoute=n,this.accountService=o,this.router=s,this.location=u,this.currentUser={}}ngOnInit(){this.createLoginForm()}createLoginForm(){this.loginForm=new r.cw({email:new r.NI("",[r.kI.required,r.kI.pattern("^([a-zA-Z0-9_\\-\\.]+)@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.)|(([a-zA-Z0-9\\-]+\\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\\]?)$")]),password:new r.NI("",r.kI.required)})}onSubmit(){this.accountService.login(this.loginForm.value).subscribe(()=>{const{redirect:n}=window.history.state;this.router.navigateByUrl(n||"/shop")},n=>{this.errorMessage="User does not exist"})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(g.gz),e.Y36(f.B),e.Y36(g.F0),e.Y36(c.Ye))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-login"]],decls:19,vars:6,consts:[[1,"auth-page"],[1,"form-wrapper"],[3,"formGroup","ngSubmit"],[1,"message"],["formControlName","email",3,"label"],["style","color:red;font-size:11px;margin-top: 0.5rem;",4,"ngIf"],["formControlName","password",3,"type","label"],[3,"disabled"],["routerLink","/account/register"],[1,"cover-wrapper"],[1,"cover-img"],[2,"color","red","font-size","11px","margin-top","0.5rem"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"form",2),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(3,"h2"),e._uU(4,"Login"),e.qZA(),e.TgZ(5,"p",3),e._uU(6,"Please Sign In to Continue "),e.qZA(),e._UZ(7,"app-text-inputs",4),e.YNc(8,T,2,1,"p",5),e._UZ(9,"app-text-inputs",6),e.TgZ(10,"button",7),e._uU(11,"Login"),e.qZA(),e._UZ(12,"hr"),e.TgZ(13,"p",3),e._uU(14,"New User? Sign Up "),e.TgZ(15,"a",8),e._uU(16,"Here"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(17,"div",9),e._UZ(18,"div",10),e.qZA(),e.qZA()),2&n&&(e.xp6(2),e.Q6J("formGroup",o.loginForm),e.xp6(5),e.Q6J("label","Email Address"),e.xp6(1),e.Q6J("ngIf",o.errorMessage),e.xp6(1),e.Q6J("type","password")("label","Password"),e.xp6(1),e.Q6J("disabled",o.loginForm.invalid))},directives:[r._Y,r.JL,r.sg,C.x,r.JJ,r.u,c.O5,g.yS],styles:[".auth-page[_ngcontent-%COMP%]{width:100%;height:100vh;display:flex;overflow:hidden}.auth-page[_ngcontent-%COMP%]   .form-wrapper[_ngcontent-%COMP%]{width:50%;display:flex;justify-content:center;align-items:center;height:100vh}.auth-page[_ngcontent-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:2rem 0;padding:1rem;width:350px;border-radius:5px;border:1px solid transparent;background-color:#000;color:#fff;text-transform:uppercase}.auth-page[_ngcontent-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled, .auth-page[_ngcontent-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:auto}.auth-page[_ngcontent-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{margin:1rem 0}.auth-page[_ngcontent-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{margin-top:.5rem;font-size:13px;color:gray}.auth-page[_ngcontent-%COMP%]   .cover-wrapper[_ngcontent-%COMP%]{width:50%}.auth-page[_ngcontent-%COMP%]   .cover-img[_ngcontent-%COMP%]{background-image:url(auth-bg-1.8dc79fb53b7d56b12eda.jpg);width:100%;height:100vh;background-repeat:no-repeat;background-size:cover}@media (max-width: 900px){.auth-page[_ngcontent-%COMP%]{flex-direction:column-reverse;align-items:center;justify-content:center}.auth-page[_ngcontent-%COMP%]   .cover-wrapper[_ngcontent-%COMP%]{width:100%}.auth-page[_ngcontent-%COMP%]   .cover-img[_ngcontent-%COMP%]{width:100%;background-image:url(auth-bg-2.d487cb852d3b2e9fd77b.jpg)}.auth-page[_ngcontent-%COMP%]   .form-wrapper[_ngcontent-%COMP%]{position:absolute;display:block;min-width:450px;height:70vh;display:flex}.auth-page[_ngcontent-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{padding:2rem}}"]}),t})()},{path:"register",component:U}];let S=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[g.Bz.forChild(J)],g.Bz]}),t})();var q=i(9441);let z=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[c.ez,S,q.m]]}),t})()}}]);